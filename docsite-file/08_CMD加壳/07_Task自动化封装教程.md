###  **Task自动化封装教程**
**更新记录：**

| 日期        | 姓名   |  事宜  |
| --------   |:-----:  | :----:  |
| 2016-07-27    | 边联乐| 第一版编写完成    |
| 2016-08-05    | 宗杰| 修改Quick start，换成简单的CMD命令    |
|2017-7-6     |   边联乐  |    整理更新  |

&nbsp;
####  **一. Task封装简介**	
　　Task封装是一种快速将第三方软件封装为task，并在NovelBrain云平台上运行的解决方案，不但能够高度可定制化cmd命令，而且还可以将多个输入文件并行的分布在不同服务器上运行，以实现并行计算的目的。
　　NovelBrainTM的task运行基于虚拟机系统，我们选择了docker作为轻量级虚拟机系统，每个分析task都会在指定的docker Image中运行。以此保证了软件版本的稳定性和分析task的可回溯性。因此在上线自定义的task之前，需要上传自己的docker image，或者指定使用已有的docker image。
　　此外NovelBrainTM会根据task传入文件的分组信息(Prefix)的不同，将不同的文件分组在不同的docker虚拟机中运行，从而实现并行计算的目的。因此在编写自定义task的过程中，我们需要指定具体哪些参数/输入文件需要分组并进行并行计算。
　　本教程提供了从易到难的一系列教程，希望能快速帮助用户编写自己的application。

####  **二. 步骤介绍**	
Cmd封装分为三个步骤：
1.	添加task与task参数配置
我们需要创建一个task，上传相关的docker镜像（可选），并给task指定需要运行的镜像。同时还要配置task在前端所展示的参数。在本步中我们需要指定哪些参数可以进行切分（分组），从而实现并行计算。
2.	编写相关的xml文件并上传
我们需要将cmd所用到的一系列命令和参数编写成一个或多个xml文件，并且放在指定的stage中并上传。
3.	编写结果相关的xml并上传
NovelBrainTM提供了一个workflow引擎，即当我们拖拽好一个workflow后，系统就可以从头到尾的执行workflow中的task。这就要求我们必须事先知道某个task会产生哪些结果文件。在这里我们就需要编写结果相关的xml文件，用来告诉系统，本task会产生哪些结果信息。

####  **三. 实例详细解析**	

实例一、Cap3的封装--简单版封装
1.	添加task与task参数配置
1.1.	docker镜像管理，在系统中点击分析平台docker镜像管理添加

